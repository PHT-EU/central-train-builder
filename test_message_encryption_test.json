{
  "action": "build",
  "token": "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwibmFtZSI6ImFkbWluIiwiaWF0IjoxNjAzMTA0OTExLCJleHAiOjE2MDU3ODMzMTF9.QOdX9KPNEYh7TRNxRDbtziYNRBEw74crydX5Vt875p5UYCBWnKnjhoIVGpHWyr8Xql1Dj-TPc78UJZn_qYmZ7m5x6FX_qwRWZBmia_4CUzM7eX7UJWwTsfQBwNGK5RFbd6b1tmXilTCaDzbDqPXiKg_NE_htFnHyhC2cXZjdopw",
  "data": {
    "type": "discovery",
    "train_id": "tb_sp_test",
    "user_id": 1,
    "user_public_key": "2d2d2d2d2d424547494e205055424c4943204b45592d2d2d2d2d0a4d494942496a414e42676b71686b6947397730424151454641414f43415138414d49494243674b4341514541304d742f447737795059486e33527848722f48360a376e4b66636b466d4262447a316e2f7a6b735970696d656f727a326a49484f30317344613333526369734c4431483955645172524a76517878613654744d586b0a636f63324d514c344150614e3939582b39797562464150677854397853484e676d306a4c54746a4c524e6878515573654b75454f524e38366e696e354446504f0a44516371517171324b71434a7349526b656145636f37673838652b3945434f6e48412f37457577767956344a777730346d772f667449442f66446f43555330710a41506a6d2b544e5a4373764a706c376949556678424d546e47566656372f4c4b48554478637975446a64357966524d6c433776414837476a6e55527170464f4e0a4e654653444162696358386576313332366d38383057646e72364f6b796d532b4f6c4d562f4334636a6a47374435755a4d6539516f4b4d64325472324b6d64390a50514944415141420a2d2d2d2d2d454e44205055424c4943204b45592d2d2d2d2d0a",
    "user_signature": "cf83e1357eefb8bdf1542850d66d8007d620e4050b5715dc83f4a921d36ce9ce47d0d13c5d85f2b0ff8318d2877eec2f63b931bd47417a81a538327af927da3e",
    "route": [
      "aachen",
      "tuebingen",
      "leipzig"
    ],
    "master_image": "harbor.personalhealthtrain.de/pht_master/master:buster",
    "endpoint": {
      "name": "default",
      "command": "run",
      "files": [
        {
          "name": "entrypoint.py",
          "content": "import os\n\n# 20 mb\nFILE_SIZE = 1024 * 1024 * 20\nRESULTS_DIR = \"/opt/pht_results\"\nFILE_NAME = \"test_result.txt\"\n\n\ndef generate_random_text_file(filename, size):\n    \"\"\"\n    generate big random letters/alphabets to a file\n    :param filename: the filename\n    :param size: the size in bytes\n    :return: void\n    \"\"\"\n    import random\n    import string\n\n    chars = ''.join([random.choice(string.ascii_letters) for i in range(size)]) #1\n\n\n    with open(filename, 'w') as f:\n        f.write(chars)\n    pass\n\nif __name__ == '__main__':\n    print(f\"Generating a new random file: Size={FILE_SIZE}b\")\n\n    generate_random_text_file(os.path.join(RESULTS_DIR, FILE_NAME), FILE_SIZE)\n    with open(os.path.join(RESULTS_DIR, FILE_NAME), \"r\") as f:\n        print(f.read(200))\n    print(\"File Generated Successfully\")\n"
        }
      ]
    }
  }
}

